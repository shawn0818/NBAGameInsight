# NBAGameInsight: NBAæ¯”èµ›åˆ†æå¹³å° | NBA Game Analysis Platform

<div align="center">

[![Python ç‰ˆæœ¬](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![è®¸å¯è¯](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**[ä¸­æ–‡](README.md) | [English](#english-version)**

</div>

**ä¸€ä¸ªå¼ºå¤§ä¸”æ™ºèƒ½çš„ Python å·¥å…·ï¼Œç”¨äºè·å–ã€è§£æã€åˆ†æå’Œå¯è§†åŒ– NBA æ¯”èµ›æ•°æ®ã€‚**

NBAGameInsight è‡´åŠ›äºä¸º NBA çˆ±å¥½è€…ã€æ•°æ®åˆ†æå¸ˆå’Œå¼€å‘è€…æä¾›å…¨æ–¹ä½çš„æ•°æ®æœåŠ¡ã€‚æœ¬é¡¹ç›®æ•´åˆäº†æ•°æ®æŠ“å–ã€ç»“æ„åŒ–è§£æã€å¯è§†åŒ–å±•ç¤ºã€æ™ºèƒ½ AI åˆ†æå’Œç¤¾äº¤åª’ä½“å‘å¸ƒç­‰åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·æ·±å…¥æ´å¯Ÿ NBA èµ›äº‹ï¼Œå¹¶åŸºäºæ•°æ®å¼€å‘å„ç§åº”ç”¨ã€‚

## ğŸŒŸ ä¸»è¦ç‰¹æ€§

### ğŸ“Š å…¨é¢æ•°æ®è·å–
- **å®æ—¶ä¸å†å²æ•°æ®**ï¼šæ”¯æŒè·å–æ¯”èµ›çš„ Boxscoreã€PlayByPlayã€èµ›ç¨‹ã€è”ç›Ÿæ’åã€çƒå‘˜ä¸çƒé˜Ÿä¿¡æ¯ç­‰
- **æƒå¨æ•°æ®æº**ï¼šæ•°æ®æ¥è‡ª NBA å®˜æ–¹åŠ Stats APIï¼Œç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œå®æ—¶æ€§
- **å¢é‡æ›´æ–°**ï¼šæ”¯æŒæ–°èµ›å­£æ•°æ®è‡ªåŠ¨åŒæ­¥ï¼Œä¿æŒæ•°æ®åº“æœ€æ–°çŠ¶æ€

### ğŸ”„ é«˜æ•ˆæ•°æ®å¤„ç†
- **ç»“æ„åŒ–æ•°æ®**ï¼šåŸºäº Pydantic v2 æ¨¡å‹è¿›è¡Œæ•°æ®éªŒè¯å’Œè½¬æ¢ï¼Œç¡®ä¿æ•°æ®è´¨é‡
- **æ™ºèƒ½è§£æ**ï¼šå¼ºå¤§çš„è§£æå™¨å°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºæ˜“ç”¨çš„ Python å¯¹è±¡
- **ç¼“å­˜æœºåˆ¶**ï¼šå†…ç½®æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿï¼Œå¤§å¹…æå‡å“åº”é€Ÿåº¦å’Œæ€§èƒ½

### ğŸ“ˆ å¯è§†åŒ–æ•°æ®å±•ç¤º
- **ä¸“ä¸šæŠ•ç¯®å›¾**ï¼šç”Ÿæˆçƒå‘˜å’Œçƒé˜Ÿçš„æŠ•ç¯®åˆ†å¸ƒçƒ­å›¾ï¼Œç›´è§‚å±•ç¤ºå¾—åˆ†çƒ­åŒº
- **çƒå‘˜å½±å“åŠ›åˆ†æ**ï¼šå¯è§†åŒ–çƒå‘˜å¾—åˆ†å’ŒåŠ©æ”»å½±å“åŠ›ï¼Œå…¨é¢å±•ç¤ºçƒå‘˜ä»·å€¼
- **å¤šæ ¼å¼è¾“å‡º**ï¼šæ”¯æŒ JSONã€Markdown ç­‰å¤šç§è¾“å‡ºæ ¼å¼ï¼Œé€‚åº”ä¸åŒåœºæ™¯éœ€æ±‚

### ğŸ¬ è§†é¢‘é›†é”¦å¤„ç†
- **è‡ªåŠ¨ä¸‹è½½**ï¼šä»å®˜æ–¹æºè‡ªåŠ¨è·å–æ¯”èµ›ç²¾å½©ç‰‡æ®µå’Œçƒå‘˜é›†é”¦
- **æ™ºèƒ½åˆå¹¶**ï¼šå°†é›¶æ•£ç‰‡æ®µåˆå¹¶ä¸ºå®Œæ•´é›†é”¦è§†é¢‘ï¼Œæä¾›æ›´å¥½çš„è§‚çœ‹ä½“éªŒ
- **GIF ç”Ÿæˆ**ï¼šä¸ºå…³é”®å›åˆåˆ›å»ºé«˜è´¨é‡ GIFï¼Œä¾¿äºåˆ†äº«å’Œå±•ç¤º

### ğŸ¤– æ™ºèƒ½ AI åˆ†æ
- **æ¯”èµ›æ‘˜è¦**ï¼šAI ç”Ÿæˆä¸“ä¸šçš„æ¯”èµ›åˆ†æå’Œæ‘˜è¦ï¼Œæä¾›æ·±åº¦æ´å¯Ÿ
- **çƒå‘˜è¡¨ç°è¯„ä¼°**ï¼šå¯¹çƒå‘˜æ•°æ®è¿›è¡Œæ™ºèƒ½åˆ†æï¼Œæä¾›ä¸“ä¸šè¯„ä»·
- **å›åˆè§£è¯´**ï¼šä¸ºå…³é”®å›åˆç”Ÿæˆä¸“ä¸šè§£è¯´ï¼Œæ•æ‰æ¯”èµ›ç²¾å½©ç¬é—´

### ğŸ“± ç¤¾äº¤åª’ä½“é›†æˆ
- **å¾®åšå‘å¸ƒ**ï¼šæ”¯æŒå°†æ¯”èµ›åˆ†æã€å›¾è¡¨ã€è§†é¢‘ç­‰å†…å®¹ä¸€é”®å‘å¸ƒåˆ°å¾®åš
- **å†…å®¹ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆç¬¦åˆå¹³å°ç‰¹æ€§çš„æ–‡æ¡ˆå’Œæ ‡ç­¾ï¼Œæé«˜ä¼ æ’­æ•ˆæœ
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šå†…å®¹ç±»å‹çš„æ‰¹é‡å‘å¸ƒï¼Œé«˜æ•ˆç®¡ç†ç¤¾äº¤åª’ä½“å†…å®¹

### ğŸ› ï¸ çµæ´»çš„å‘½ä»¤è¡Œå·¥å…·
- **å¤šæ¨¡å¼æ”¯æŒ**ï¼šæä¾› Infoã€Chartã€Videoã€Weiboã€AI ç­‰å¤šç§è¿è¡Œæ¨¡å¼
- **è‡ªå®šä¹‰é…ç½®**ï¼šæ”¯æŒé€šè¿‡å‘½ä»¤è¡Œå‚æ•°æˆ–é…ç½®æ–‡ä»¶è‡ªå®šä¹‰è¡Œä¸º
- **æ‰¹é‡å¤„ç†**ï¼šå†…ç½®ç»„åˆå‘½ä»¤ï¼Œå¯ä¸€æ¬¡æ€§æ‰§è¡Œå¤šä¸ªä»»åŠ¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

- **Python è¦æ±‚**ï¼šPython 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å®‰è£…ä¾èµ–**ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/NBAGameInsight.git
cd NBAGameInsight

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### åŸºç¡€é…ç½®

1. **å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿**ï¼š

```bash
cp .env.example .env
```

2. **ç¼–è¾‘é…ç½®æ–‡ä»¶**ï¼šæ ¹æ®éœ€è¦ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„é…ç½®é¡¹ï¼š

```
# å¿…è¦é…ç½®
API_KEY=your_nba_api_key

# å¯é€‰é…ç½®
WB_COOKIES=your_weibo_cookies  # ç”¨äºå¾®åšå‘å¸ƒåŠŸèƒ½
AI_API_KEY=your_ai_api_key     # ç”¨äºAIåˆ†æåŠŸèƒ½
```

### åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹

#### æŸ¥çœ‹æ¯”èµ›ä¿¡æ¯

```bash
# è·å–æ¹–äººé˜Ÿæœ€è¿‘ä¸€åœºæ¯”èµ›çš„ä¿¡æ¯
python main.py --team Lakers --mode info
```

#### ç”ŸæˆæŠ•ç¯®å›¾è¡¨

```bash
# ç”ŸæˆLeBron Jamesæœ€è¿‘ä¸€åœºæ¯”èµ›çš„æŠ•ç¯®å›¾
python main.py --team Lakers --player "LeBron James" --mode chart
```

#### å¤„ç†è§†é¢‘é›†é”¦

```bash
# ç”ŸæˆWarriorsé˜Ÿæœ€è¿‘ä¸€åœºæ¯”èµ›çš„è§†é¢‘é›†é”¦
python main.py --team Warriors --mode video-team

# ç”ŸæˆStephen Curryæœ€è¿‘ä¸€åœºæ¯”èµ›çš„é›†é”¦è§†é¢‘
python main.py --team Warriors --player "Stephen Curry" --mode video-player
```

#### å‘å¸ƒåˆ°å¾®åš

```bash
# å‘å¸ƒKevin Durantæœ€è¿‘ä¸€åœºæ¯”èµ›çš„é›†é”¦è§†é¢‘åˆ°å¾®åš
python main.py --team Suns --player "Kevin Durant" --mode weibo-player
```

#### AIåˆ†ææ¯”èµ›

```bash
# æ‰§è¡Œå¯¹Durantæœ€è¿‘ä¸€åœºæ¯”èµ›çš„AIåˆ†æ
python main.py --team Suns --player "Kevin Durant" --mode ai
```

#### æ›´æ–°èµ›å­£æ•°æ®

```bash
# æ›´æ–°2025-26èµ›å­£æ•°æ®
python main.py --mode new_season --new-season "2025-26"
```

### å‘½ä»¤è¡Œå‚æ•°è¯´æ˜

```
å‚æ•°            æè¿°                               é»˜è®¤å€¼
--team        æŒ‡å®šçƒé˜Ÿ                            Lakers
--player      æŒ‡å®šçƒå‘˜                            LeBron James
--date        æŒ‡å®šæ—¥æœŸ (YYYY-MM-DD æˆ– "last")     last
--mode        è¿è¡Œæ¨¡å¼                            all
--no-weibo    ä¸å‘å¸ƒåˆ°å¾®åš                        False
--debug       å¯ç”¨è°ƒè¯•æ¨¡å¼                        False
--config      æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„                    
--new-season  æŒ‡å®šæ–°èµ›å­£æ ‡è¯†                      
```

å¯é€‰çš„è¿è¡Œæ¨¡å¼:
- `info`: åªæ˜¾ç¤ºæ¯”èµ›ä¿¡æ¯
- `chart`: åªç”Ÿæˆå›¾è¡¨
- `video`: å¤„ç†æ‰€æœ‰è§†é¢‘
- `video-team`: åªå¤„ç†çƒé˜Ÿè§†é¢‘
- `video-player`: åªå¤„ç†çƒå‘˜è§†é¢‘
- `video-rounds`: å¤„ç†çƒå‘˜è§†é¢‘çš„å›åˆGIF
- `weibo`: æ‰§è¡Œæ‰€æœ‰å¾®åšå‘å¸ƒåŠŸèƒ½
- `weibo-team`: åªå‘å¸ƒçƒé˜Ÿé›†é”¦è§†é¢‘
- `weibo-player`: åªå‘å¸ƒçƒå‘˜é›†é”¦è§†é¢‘
- `weibo-chart`: åªå‘å¸ƒçƒå‘˜æŠ•ç¯®å›¾
- `weibo-team-chart`: åªå‘å¸ƒçƒé˜ŸæŠ•ç¯®å›¾
- `weibo-round`: åªå‘å¸ƒçƒå‘˜å›åˆè§£è¯´å’ŒGIF
- `ai`: åªè¿è¡ŒAIåˆ†æ
- `all`: æ‰§è¡Œæ‰€æœ‰åŠŸèƒ½ (é»˜è®¤)
- `new_season`: æ–°èµ›å­£åŒæ­¥æ›´æ–°æ•°æ®åº“

## ğŸ’» ç¨‹åºåŒ–ä½¿ç”¨ç¤ºä¾‹

é™¤äº†å‘½ä»¤è¡Œå·¥å…·ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨è‡ªå·±çš„ Python ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨è¯¥åº“ï¼š

```python
from nba.services.nba_service import NBAService, NBAServiceConfig

# åˆ›å»ºé…ç½®
config = NBAServiceConfig(
    default_team="Lakers",
    default_player="LeBron James",
    date_str="last"
)

# ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ç¡®ä¿èµ„æºæ­£ç¡®å…³é—­
with NBAService(config=config) as nba_service:
    # è·å–æ¯”èµ›åŸºæœ¬ä¿¡æ¯
    game = nba_service.data_service.get_game("Lakers")
    if game:
        print(f"æ¯”èµ›ID: {game.game_data.game_id}")
        print(f"ä¸»é˜Ÿ: {game.game_data.home_team.team_city} {game.game_data.home_team.team_name}")
        print(f"å®¢é˜Ÿ: {game.game_data.away_team.team_city} {game.game_data.away_team.team_name}")
        
    # ç”Ÿæˆçƒå‘˜æŠ•ç¯®å›¾
    chart_paths = nba_service.generate_shot_charts(
        player_name="LeBron James",
        chart_type="both",
        shot_outcome="made_only"
    )
    
    # è·å–çƒå‘˜é›†é”¦è§†é¢‘
    player_videos = nba_service.get_player_highlights(
        player_name="LeBron James",
        merge=True
    )
    
    # æ‰§è¡ŒAIåˆ†æ
    game_ai_data = game.prepare_ai_data()
    print(f"åˆ†ææ•°æ®åŒ…å« {len(game_ai_data.get('events', {}).get('data', []))} ä¸ªäº‹ä»¶")
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
NBAGameInsight/
â”œâ”€â”€ nba/                 # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ database/        # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ fetcher/         # æ•°æ®è·å–æ¨¡å—
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ parser/          # æ•°æ®è§£ææ¨¡å—
â”‚   â””â”€â”€ services/        # æœåŠ¡æ¨¡å—
â”‚       â”œâ”€â”€ nba_service.py         # ä¸»æœåŠ¡
â”‚       â”œâ”€â”€ game_data_service.py   # æ•°æ®æœåŠ¡
â”‚       â”œâ”€â”€ game_video_service.py  # è§†é¢‘æœåŠ¡
â”‚       â””â”€â”€ game_charts_service.py # å›¾è¡¨æœåŠ¡
â”œâ”€â”€ weibo/               # å¾®åšé›†æˆæ¨¡å—
â”‚   â”œâ”€â”€ weibo_content_generator.py # å†…å®¹ç”Ÿæˆ
â”‚   â””â”€â”€ weibo_post_service.py      # å‘å¸ƒæœåŠ¡
â”œâ”€â”€ utils/               # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ ai_processor.py     # AI å¤„ç†
â”‚   â”œâ”€â”€ logger_handler.py   # æ—¥å¿—å¤„ç†
â”‚   â””â”€â”€ video_converter.py  # è§†é¢‘è½¬æ¢
â”œâ”€â”€ data/                # æ•°æ®ç¼“å­˜
â”œâ”€â”€ storage/             # åª’ä½“å­˜å‚¨
â”‚   â”œâ”€â”€ pictures/        # å›¾è¡¨å­˜å‚¨
â”‚   â”œâ”€â”€ videos/          # è§†é¢‘å­˜å‚¨
â”‚   â””â”€â”€ gifs/            # GIFå­˜å‚¨
â”œâ”€â”€ main.py              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.py            # å…¨å±€é…ç½®æ¨¡å—    
â”œâ”€â”€ requirements.txt     # ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md            # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”— å®é™…åº”ç”¨æ¡ˆä¾‹

- **çƒé˜Ÿæ•°æ®åˆ†æ**ï¼šè‡ªåŠ¨ä¸ºçƒé˜Ÿç”Ÿæˆæ¯åœºæ¯”èµ›çš„æ•°æ®æŠ¥å‘Šå’Œè§†é¢‘é›†é”¦
- **çƒå‘˜æ•°æ®è·Ÿè¸ª**ï¼šè·Ÿè¸ªå’Œåˆ†æç‰¹å®šçƒå‘˜çš„è¡¨ç°å’Œè¿›æ­¥æƒ…å†µ
- **å¾®åšå†…å®¹è¿è¥**ï¼šä¸º NBA ç›¸å…³è´¦å·æä¾›è‡ªåŠ¨åŒ–å†…å®¹å‘å¸ƒè§£å†³æ–¹æ¡ˆ
- **æ•°æ®å¯è§†åŒ–å±•ç¤º**ï¼šç”Ÿæˆä¸“ä¸šçš„æŠ•ç¯®åˆ†å¸ƒå›¾å’Œå½±å“åŠ›åˆ†æå›¾è¡¨

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- æäº¤ Bug æŠ¥å‘Š
- æå‡ºåŠŸèƒ½å»ºè®®
- è´¡çŒ®ä»£ç ï¼ˆä¾‹å¦‚ï¼Œæ·»åŠ æ–°çš„æ•°æ®æºã€è§£æå™¨ã€å¯è§†åŒ–åŠŸèƒ½ç­‰ï¼‰
- å®Œå–„æ–‡æ¡£

è¯·åœ¨æäº¤ Pull Request ä¹‹å‰ï¼Œç¡®ä¿ä»£ç é£æ ¼ç¬¦åˆ PEP 8 è§„èŒƒï¼Œå¹¶æ·»åŠ å¿…è¦çš„å•å…ƒæµ‹è¯•ã€‚

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT License å¼€æºè®¸å¯è¯ï¼Œè¯¦æƒ…è¯·è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ GitHub Issues æˆ– Email è”ç³»æˆ‘ä»¬ã€‚

---

**æ„Ÿè°¢æ‚¨çš„å…³æ³¨å’Œæ”¯æŒï¼**

---

<a name="english-version"></a>

# NBAGameInsight: NBA Game Analysis Platform

<div align="center">

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**[ä¸­æ–‡](#) | [English](README_EN.md)**

</div>

**A powerful and intelligent Python tool for fetching, parsing, analyzing, and visualizing NBA game data.**

NBAGameInsight is dedicated to providing comprehensive data services for NBA enthusiasts, data analysts, and developers. This project integrates data scraping, structured parsing, visualization, intelligent AI analysis, and social media publishing capabilities to help users gain deep insights into NBA games and develop various applications based on the data.

## ğŸŒŸ Key Features

### ğŸ“Š Comprehensive Data Acquisition
- **Real-time & Historical Data**: Support for retrieving game Boxscores, PlayByPlay data, schedules, league standings, player and team information
- **Authoritative Data Sources**: Data from NBA official and Stats API, ensuring accuracy and timeliness
- **Incremental Updates**: Support for automatic synchronization of new season data, keeping the database up-to-date

### ğŸ”„ Efficient Data Processing
- **Structured Data**: Data validation and conversion based on Pydantic v2 models, ensuring data quality
- **Intelligent Parsing**: Powerful parsers that convert raw data into easy-to-use Python objects
- **Caching Mechanism**: Built-in intelligent caching system that significantly improves response speed and performance

### ğŸ“ˆ Visual Data Display
- **Professional Shot Charts**: Generate shot distribution heat maps for players and teams, visually showing scoring hot zones
- **Player Impact Analysis**: Visualize player scoring and assist impact, comprehensively showcasing player value
- **Multiple Output Formats**: Support for JSON, Markdown, and other output formats to suit different scenarios

### ğŸ¬ Video Highlights Processing
- **Automatic Downloads**: Automatically obtain game highlights and player compilations from official sources
- **Intelligent Merging**: Combine scattered clips into complete highlight videos for a better viewing experience
- **GIF Generation**: Create high-quality GIFs for key plays, facilitating sharing and display

### ğŸ¤– Intelligent AI Analysis
- **Game Summaries**: AI-generated professional game analysis and summaries providing deep insights
- **Player Performance Evaluation**: Intelligent analysis of player data, providing professional evaluations
- **Play-by-Play Commentary**: Generate professional commentary for key moments, capturing the exciting moments of the game

### ğŸ“± Social Media Integration
- **Weibo Publishing**: Support for one-click publishing of game analysis, charts, videos, and other content to Weibo
- **Content Generation**: Automatically generate platform-specific copy and tags to enhance dissemination effect
- **Batch Processing**: Support for batch publishing of multiple content types, efficiently managing social media content

### ğŸ› ï¸ Flexible Command Line Tools
- **Multi-Mode Support**: Provides Info, Chart, Video, Weibo, AI and other operating modes
- **Custom Configuration**: Support for customizing behavior through command line parameters or configuration files
- **Batch Processing**: Built-in combination commands to execute multiple tasks at once

## ğŸš€ Quick Start

### Environment Preparation

- **Python Requirements**: Python 3.8 or higher
- **Installing Dependencies**:

```bash
# Clone the repository
git clone https://github.com/yourusername/NBAGameInsight.git
cd NBAGameInsight

# Create a virtual environment (recommended)
python -m venv venv
source venv/bin/activate  # Linux/Mac
# or
venv\Scripts\activate  # Windows

# Install dependencies
pip install -r requirements.txt
```

### Basic Configuration

1. **Copy the configuration file template**:

```bash
cp .env.example .env
```

2. **Edit the configuration file**: Modify the configuration items in the `.env` file as needed:

```
# Required configuration
API_KEY=your_nba_api_key

# Optional configuration
WB_COOKIES=your_weibo_cookies  # For Weibo publishing functionality
AI_API_KEY=your_ai_api_key     # For AI analysis functionality
```

### Basic Usage Examples

#### View Game Information

```bash
# Get information about the Lakers' most recent game
python main.py --team Lakers --mode info
```

#### Generate Shot Charts

```bash
# Generate LeBron James' shot chart from the most recent game
python main.py --team Lakers --player "LeBron James" --mode chart
```

#### Process Video Highlights

```bash
# Generate highlights video for the Warriors' most recent game
python main.py --team Warriors --mode video-team

# Generate highlights video for Stephen Curry's most recent game
python main.py --team Warriors --player "Stephen Curry" --mode video-player
```

#### Publish to Weibo

```bash
# Publish Kevin Durant's most recent game highlights video to Weibo
python main.py --team Suns --player "Kevin Durant" --mode weibo-player
```

#### AI Game Analysis

```bash
# Perform AI analysis on Durant's most recent game
python main.py --team Suns --player "Kevin Durant" --mode ai
```

#### Update Season Data

```bash
# Update data for the 2025-26 season
python main.py --mode new_season --new-season "2025-26"
```

### Command Line Parameters

```
Parameter       Description                            Default
--team          Specify team                           Lakers
--player        Specify player                         LeBron James
--date          Specify date (YYYY-MM-DD or "last")    last
--mode          Running mode                           all
--no-weibo      Don't publish to Weibo                 False
--debug         Enable debug mode                      False
--config        Specify configuration file path        
--new-season    Specify new season identifier          
```

Available running modes:
- `info`: Display game information only
- `chart`: Generate charts only
- `video`: Process all videos
- `video-team`: Process team videos only
- `video-player`: Process player videos only
- `video-rounds`: Process player video round GIFs
- `weibo`: Execute all Weibo publishing functions
- `weibo-team`: Publish team highlight videos only
- `weibo-player`: Publish player highlight videos only
- `weibo-chart`: Publish player shot charts only
- `weibo-team-chart`: Publish team shot charts only
- `weibo-round`: Publish player round commentary and GIFs only
- `ai`: Run AI analysis only
- `all`: Execute all functions (default)
- `new_season`: Synchronize and update database for new season

## ğŸ’» Programmatic Usage Example

In addition to the command line tool, you can use the library directly in your Python programs:

```python
from nba.services.nba_service import NBAService, NBAServiceConfig

# Create configuration
config = NBAServiceConfig(
    default_team="Lakers",
    default_player="LeBron James",
    date_str="last"
)

# Use context manager to ensure resources are properly closed
with NBAService(config=config) as nba_service:
    # Get basic game information
    game = nba_service.data_service.get_game("Lakers")
    if game:
        print(f"Game ID: {game.game_data.game_id}")
        print(f"Home Team: {game.game_data.home_team.team_city} {game.game_data.home_team.team_name}")
        print(f"Away Team: {game.game_data.away_team.team_city} {game.game_data.away_team.team_name}")
        
    # Generate player shot charts
    chart_paths = nba_service.generate_shot_charts(
        player_name="LeBron James",
        chart_type="both",
        shot_outcome="made_only"
    )
    
    # Get player highlight videos
    player_videos = nba_service.get_player_highlights(
        player_name="LeBron James",
        merge=True
    )
    
    # Execute AI analysis
    game_ai_data = game.prepare_ai_data()
    print(f"Analysis data contains {len(game_ai_data.get('events', {}).get('data', []))} events")
```

## ğŸ“ Project Structure

```
NBAGameInsight/
â”œâ”€â”€ nba/                 # Core functional modules
â”‚   â”œâ”€â”€ database/        # Database module
â”‚   â”œâ”€â”€ fetcher/         # Data retrieval module
â”‚   â”œâ”€â”€ models/          # Data models
â”‚   â”œâ”€â”€ parser/          # Data parsing module
â”‚   â””â”€â”€ services/        # Service modules
â”‚       â”œâ”€â”€ nba_service.py         # Main service
â”‚       â”œâ”€â”€ game_data_service.py   # Data service
â”‚       â”œâ”€â”€ game_video_service.py  # Video service
â”‚       â””â”€â”€ game_charts_service.py # Chart service
â”œâ”€â”€ weibo/               # Weibo integration module
â”‚   â”œâ”€â”€ weibo_content_generator.py # Content generation
â”‚   â””â”€â”€ weibo_post_service.py      # Publishing service
â”œâ”€â”€ utils/               # Utility modules
â”‚   â”œâ”€â”€ ai_processor.py     # AI processing
â”‚   â”œâ”€â”€ logger_handler.py   # Log handling
â”‚   â””â”€â”€ video_converter.py  # Video conversion
â”œâ”€â”€ data/                # Data cache
â”œâ”€â”€ storage/             # Media storage
â”‚   â”œâ”€â”€ pictures/        # Chart storage
â”‚   â”œâ”€â”€ videos/          # Video storage
â”‚   â””â”€â”€ gifs/            # GIF storage
â”œâ”€â”€ main.py              # Main program entry
â”œâ”€â”€ config.py            # Global configuration module    
â”œâ”€â”€ requirements.txt     # Dependency list
â””â”€â”€ README.md            # Project documentation
```

## ğŸ”— Practical Application Cases

- **Team Data Analysis**: Automatically generate data reports and video highlights for each team game
- **Player Data Tracking**: Track and analyze a specific player's performance and progress
- **Weibo Content Operations**: Provide automated content publishing solutions for NBA-related accounts
- **Data Visualization Display**: Generate professional shot distribution charts and impact analysis charts

## ğŸ¤ Contributing

Contributions of any form are welcome, including but not limited to:

- Submitting bug reports
- Suggesting new features
- Contributing code (e.g., adding new data sources, parsers, visualization features, etc.)
- Improving documentation

Before submitting a Pull Request, please ensure that your code style complies with PEP 8 standards and add necessary unit tests.

## ğŸ“ License

This project is open-source under the MIT License. For details, please see the [LICENSE](LICENSE) file.

## ğŸ“§ Contact

If you have any questions or suggestions, please feel free to contact us through GitHub Issues or Email.

---

**Thank you for your attention and support!**